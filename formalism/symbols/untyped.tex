% !requires types

%
% zippered types
%
\newcommand{\ZTMName}{{\normalfont\textsf{ZType}}}
\newcommand{\ZTMSet}{\ensuremath{\hat{T}}}
\newcommand{\ZTMV}{\ensuremath{\hat{\tau}}}

% cursor
\newcommand{\ZTCursor}[1]{\ensuremath{\ZCursor{#1}}}

% arrow
\newcommand{\ZTArrowL}[2]{\ensuremath{\TArrow{#1}{#2}}}
\newcommand{\ZTArrowR}[2]{\ensuremath{\TArrow{#1}{#2}}}
\newcommand{\ZTProdL}[2]{\ensuremath{\TProd{#1}{#2}}}
\newcommand{\ZTProdR}[2]{\ensuremath{\TProd{#1}{#2}}}

%
% zippered expressions
%
\newcommand{\ZMName}{{\normalfont\textsf{ZExp}}}
\newcommand{\ZMSet}{\ensuremath{\hat{E}}}
\newcommand{\ZMV}{\ensuremath{\hat{e}}}

% cursor
\definecolor{cursorhighlight}{RGB}{230,255,230}
\definecolor{cursor}{RGB}{76,170,76}
\newcommand{\ZCursor}[1]{\ensuremath{\mathcolorbox{cursorhighlight}{\textcolor{cursor}{\bm{\triangleright}}#1\textcolor{cursor}{\bm{\triangleleft}}}}}

% integers
\newcommand{\ZPlusL}[2]{\ensuremath{\ECPlus{#1}{#2}}}
\newcommand{\ZPlusR}[2]{\ensuremath{\ECPlus{#1}{#2}}}

% lambdas
\newcommand{\ZLamT}[3]{\ensuremath{\ECLam{#1}{#2}{#3}}}
\newcommand{\ZLamE}[3]{\ensuremath{\ECLam{#1}{#2}{#3}}}
\newcommand{\ZApL}[2]{\ensuremath{\ECAp{#1}{#2}}}
\newcommand{\ZApR}[2]{\ensuremath{\ECAp{#1}{#2}}}

% booleans
\newcommand{\ZIfC}[3]{\ensuremath{\ECIf{#1}{#2}{#3}}}
\newcommand{\ZIfL}[3]{\ensuremath{\ECIf{#1}{#2}{#3}}}
\newcommand{\ZIfR}[3]{\ensuremath{\ECIf{#1}{#2}{#3}}}
\newcommand{\ZInconBrC}[3]{\ensuremath{\ECInconBr{#1}{#2}{#3}}}
\newcommand{\ZInconBrL}[3]{\ensuremath{\ECInconBr{#1}{#2}{#3}}}
\newcommand{\ZInconBrR}[3]{\ensuremath{\ECInconBr{#1}{#2}{#3}}}

% let
\newcommand{\ZLetL}[3]{\ensuremath{\ECLet{#1}{#2}{#3}}}
\newcommand{\ZLetR}[3]{\ensuremath{\ECLet{#1}{#2}{#3}}}

% pairs
\newcommand{\ZPairL}[2]{\ensuremath{\ECPair{#1}{#2}}}
\newcommand{\ZPairR}[2]{\ensuremath{\ECPair{#1}{#2}}}
\newcommand{\ZProjL}[1]{\ensuremath{\ECProjL{#1}}}
\newcommand{\ZProjR}[1]{\ensuremath{\ECProjR{#1}}}

% errors
\newcommand{\ZFree}[1]{\ensuremath{\ECFree{#1}}}
\newcommand{\ZInconType}[1]{\ensuremath{\ECInconType{#1}}}
\newcommand{\ZInconBr}[3]{\ensuremath{\ECInconBr{#1}{#2}{#3}}}

%
% zipper judgments
%

% cursor erasure
\newcommand{\cursorErase}[1]{\ensuremath{#1^{\diamond}}}
\newcommand{\cursorErasesTo}[2]{\ensuremath{#1^{\diamond} = #2}}

% movements
\newcommand{\movements}[1]{\ensuremath{#1 ~{\normalfont\textsf{movements}}}}

% shape
\newcommand{\tshape}[1]{\ensuremath{#1 ~{\normalfont\textsf{tshape}}}}
\newcommand{\eshape}[1]{\ensuremath{#1 ~{\normalfont\textsf{eshape}}}}

%
% actions
%
\newcommand{\AMName}{{\normalfont\textsf{Action}}}
\newcommand{\AMV}{\ensuremath{\alpha}}
\newcommand{\AMove}[1]{\ensuremath{{\normalfont\textsf{move $#1$}}}}
\newcommand{\ADel}{\ensuremath{{\normalfont\textsf{del}}}}
\newcommand{\ACon}[1]{\ensuremath{{\normalfont\textsf{construct $#1$}}}}

%
% iterated actions
%
\newcommand{\AIMName}{{\normalfont\textsf{ActionList}}}
\newcommand{\AIMV}{\ensuremath{\overline{\alpha}}}
\newcommand{\AINil}{\ensuremath{\cdot}}
\newcommand{\AICons}[2]{\ensuremath{#1; #2}}

%
% directions
%
\newcommand{\MMName}{{\normalfont\textsf{Dir}}}
\newcommand{\MMV}{\ensuremath{\delta}}
\newcommand{\MChild}[1]{\ensuremath{{\normalfont\textsf{child $#1$}}}}
\newcommand{\MChildNMV}{\ensuremath{n}}
\newcommand{\MParent}{\ensuremath{{\normalfont\textsf{parent}}}}

%
% shapes
%
\newcommand{\SMName}{{\normalfont\textsf{Shape}}}
\newcommand{\SMV}{\ensuremath{\psi}}

\newcommand{\STArrowL}{\ensuremath{{\normalfont\textsf{arrow\textsubscript{L}}}}}
\newcommand{\STArrowR}{\ensuremath{{\normalfont\textsf{arrow\textsubscript{R}}}}}
\newcommand{\STProdL}{\ensuremath{{\normalfont\textsf{prod\textsubscript{L}}}}}
\newcommand{\STProdR}{\ensuremath{{\normalfont\textsf{prod\textsubscript{R}}}}}
\newcommand{\STNum}{\ensuremath{{\normalfont\textsf{num}}}}
\newcommand{\STBool}{\ensuremath{{\normalfont\textsf{bool}}}}

\newcommand{\SVar}[1]{\ensuremath{{\normalfont\textsf{var $#1$}}}}
\newcommand{\SLam}[1]{\ensuremath{{\normalfont\textsf{lam $#1$}}}}
\newcommand{\SApL}{\ensuremath{{\normalfont\textsf{ap\textsubscript{L}}}}}
\newcommand{\SApR}{\ensuremath{{\normalfont\textsf{ap\textsubscript{R}}}}}
\newcommand{\SLetL}[1]{\ensuremath{{\normalfont\textsf{let\textsubscript{L} $#1$}}}}
\newcommand{\SLetR}[1]{\ensuremath{{\normalfont\textsf{let\textsubscript{R} $#1$}}}}
\newcommand{\SLit}[1]{\ensuremath{{\normalfont\textsf{lit $#1$}}}}
\newcommand{\SPlusL}{\ensuremath{{\normalfont\textsf{plus\textsubscript{L}}}}}
\newcommand{\SPlusR}{\ensuremath{{\normalfont\textsf{plus\textsubscript{R}}}}}
\newcommand{\STrue}{\ensuremath{{\normalfont\textsf{true}}}}
\newcommand{\SFalse}{\ensuremath{{\normalfont\textsf{false}}}}
\newcommand{\SIfC}{\ensuremath{{\normalfont\textsf{if\textsubscript{C}}}}}
\newcommand{\SIfL}{\ensuremath{{\normalfont\textsf{if\textsubscript{L}}}}}
\newcommand{\SIfR}{\ensuremath{{\normalfont\textsf{if\textsubscript{R}}}}}
\newcommand{\SPairL}{\ensuremath{{\normalfont\textsf{pair\textsubscript{L}}}}}
\newcommand{\SPairR}{\ensuremath{{\normalfont\textsf{pair\textsubscript{R}}}}}
\newcommand{\SProjL}{\ensuremath{{\normalfont\textsf{proj\textsubscript{L}}}}}
\newcommand{\SProjR}{\ensuremath{{\normalfont\textsf{proj\textsubscript{R}}}}}

%
% action judgments
%
\newcommand{\AUAction}[3]{\ensuremath{#1 \xrightarrow{#3} #2}}
\newcommand{\AUActionIter}[3]{\ensuremath{#1 \xrightarrow{#3}* #2}}

% movement
\newcommand{\AUMChild}[3]{\ensuremath{\AUAction{#1}{#2}{\AMove{\MChild{#3}}}}}
\newcommand{\AUMParent}[2]{\ensuremath{\AUAction{#1}{#2}{\AMove{\MParent}}}}

% deletion
\newcommand{\AUDel}[2]{\ensuremath{\AUAction{#1}{#2}{\ADel}}}

% construction
\newcommand{\AUCon}[3]{\ensuremath{\AUAction{#1}{#2}{\ACon{#3}}}}

%
% type actions
%
\newcommand{\AUTAction}[3]{\ensuremath{\AUAction{#1}{#2}{#3}}}
\newcommand{\AUTActionIter}[3]{\ensuremath{\AUActionIter{#1}{#2}{#3}}}

% movement
\newcommand{\AUTMChild}[3]{\ensuremath{\AUMChild{\ZTCursor{#1}}{#2}{#3}}}
\newcommand{\AUTMParent}[2]{\ensuremath{\AUMParent{#1}{\ZTCursor{#2}}}}
\newcommand{\AUTMArrowChildL}[2]{\ensuremath{\AUTMChild{\TArrow{#1}{#2}}{\ZTArrowL{\ZTCursor{#1}}{#2}}{1}}}
\newcommand{\AUTMArrowChildR}[2]{\ensuremath{\AUTMChild{\TArrow{#1}{#2}}{\ZTArrowR{#2}{\ZTCursor{#1}}}{2}}}
\newcommand{\AUTMArrowParentL}[2]{\ensuremath{\AUTMParent{\ZTArrowL{\ZTCursor{#1}}{#2}}{\TArrow{#1}{#2}}}}
\newcommand{\AUTMArrowParentR}[2]{\ensuremath{\AUTMParent{\ZTArrowR{#2}{\ZTCursor{#1}}}{\TArrow{#1}{#2}}}}
\newcommand{\AUTMProdChildL}[2]{\ensuremath{\AUTMChild{\TProd{#1}{#2}}{\ZTProdL{\ZTCursor{#1}}{#2}}{1}}}
\newcommand{\AUTMProdChildR}[2]{\ensuremath{\AUTMChild{\TProd{#1}{#2}}{\ZTProdR{#2}{\ZTCursor{#1}}}{2}}}
\newcommand{\AUTMProdParentL}[2]{\ensuremath{\AUTMParent{\ZTProdL{\ZTCursor{#1}}{#2}}{\TProd{#1}{#2}}}}
\newcommand{\AUTMProdParentR}[2]{\ensuremath{\AUTMParent{\ZTProdR{#2}{\ZTCursor{#1}}}{\TProd{#1}{#2}}}}

% deletion
\newcommand{\AUTDel}[1]{\ensuremath{\AUDel{\ZTCursor{#1}}{\ZTCursor{\TUnknown}}}}

% construction
\newcommand{\AUTConArrowL}[1]{\ensuremath{\AUCon{\ZTCursor{#1}}{\ZTArrowR{#1}{\ZTCursor{\TUnknown}}}{\STArrowL}}}
\newcommand{\AUTConArrowR}[1]{\ensuremath{\AUCon{\ZTCursor{#1}}{\ZTArrowR{\ZTCursor{\TUnknown}}{#1}}{\STArrowR}}}
\newcommand{\AUTConProdL}[1]{\ensuremath{\AUCon{\ZTCursor{#1}}{\ZTProdR{#1}{\ZTCursor{\TUnknown}}}{\STProdL}}}
\newcommand{\AUTConProdR}[1]{\ensuremath{\AUCon{\ZTCursor{#1}}{\ZTProdR{\ZTCursor{\TUnknown}}{#1}}{\STProdR}}}
\newcommand{\AUTConNum}{\ensuremath{\AUCon{\ZTCursor{\TUnknown}}{\ZTCursor{\TNum}}{\STNum}}}
\newcommand{\AUTConBool}{\ensuremath{\AUCon{\ZTCursor{\TUnknown}}{\ZTCursor{\TBool}}{\STBool}}}

%
% untyped expression actions
%
\newcommand{\AUEAction}[3]{\ensuremath{\AUAction{#1}{#2}{#3}}}
\newcommand{\AUEActionIter}[3]{\ensuremath{\AUActionIter{#1}{#2}{#3}}}

% movement
\newcommand{\AUEMove}[3]{\ensuremath{\AUEAction{#1}{#2}{\AMove{\MMV}}}}
\newcommand{\AUEMChild}[3]{\ensuremath{\AUMChild{\ZCursor{#1}}{#2}{#3}}}
\newcommand{\AUEMParent}[2]{\ensuremath{\AUMParent{#1}{\ZCursor{#2}}}}

\newcommand{\AUEMLamChildT}[3]{\ensuremath{\AUEMChild{\ELam{#1}{#2}{#3}}{\ZLamT{#1}{\ZTCursor{#2}}{#3}}{1}}}
\newcommand{\AUEMLamChildE}[3]{\ensuremath{\AUEMChild{\ELam{#1}{#2}{#3}}{\ZLamE{#1}{#2}{\ZCursor{#3}}}{2}}}
\newcommand{\AUEMLamParentT}[3]{\ensuremath{\AUEMParent{\ZLamT{#1}{\ZTCursor{#2}}{#3}}{\ELam{#1}{#2}{#3}}}}
\newcommand{\AUEMLamParentE}[3]{\ensuremath{\AUEMParent{\ZLamE{#1}{#2}{\ZCursor{#3}}}{\ELam{#1}{#2}{#3}}}}
\newcommand{\AUEMApChildL}[2]{\ensuremath{\AUEMChild{\EAp{#1}{#2}}{\ZApL{\ZCursor{#1}}{#2}}{1}}}
\newcommand{\AUEMApChildR}[2]{\ensuremath{\AUEMChild{\EAp{#1}{#2}}{\ZApR{#1}{\ZCursor{#2}}}{2}}}
\newcommand{\AUEMApParentL}[2]{\ensuremath{\AUEMParent{\ZApL{\ZCursor{#1}}{#2}}{\EAp{#1}{#2}}}}
\newcommand{\AUEMApParentR}[2]{\ensuremath{\AUEMParent{\ZApR{#1}{\ZCursor{#2}}}{\EAp{#1}{#2}}}}
\newcommand{\AUEMLetChildL}[3]{\ensuremath{\AUEMChild{\ELet{#1}{#2}{#3}}{\ZLetL{#1}{\ZCursor{#2}}{#3}}{1}}}
\newcommand{\AUEMLetChildR}[3]{\ensuremath{\AUEMChild{\ELet{#1}{#2}{#3}}{\ZLetR{#1}{#2}{\ZCursor{#3}}}{2}}}
\newcommand{\AUEMLetParentL}[3]{\ensuremath{\AUEMParent{\ZLetL{#1}{\ZCursor{#2}}{#3}}{\ELet{#1}{#2}{#3}}}}
\newcommand{\AUEMLetParentR}[3]{\ensuremath{\AUEMParent{\ZLetR{#1}{#2}{\ZCursor{#3}}}{\ELet{#1}{#2}{#3}}}}
\newcommand{\AUEMPlusChildL}[2]{\ensuremath{\AUEMChild{\EPlus{#1}{#2}}{\ZPlusL{\ZCursor{#1}}{#2}}{1}}}
\newcommand{\AUEMPlusChildR}[2]{\ensuremath{\AUEMChild{\EPlus{#1}{#2}}{\ZPlusR{#1}{\ZCursor{#2}}}{2}}}
\newcommand{\AUEMPlusParentL}[2]{\ensuremath{\AUEMParent{\ZPlusL{\ZCursor{#1}}{#2}}{\EPlus{#1}{#2}}}}
\newcommand{\AUEMPlusParentR}[2]{\ensuremath{\AUEMParent{\ZPlusR{#1}{\ZCursor{#2}}}{\EPlus{#1}{#2}}}}
\newcommand{\AUEMIfChildC}[3]{\ensuremath{\AUEMChild{\EIf{#1}{#2}{#3}}{\ZIfC{\ZCursor{#1}}{#2}{#3}}{1}}}
\newcommand{\AUEMIfChildL}[3]{\ensuremath{\AUEMChild{\EIf{#1}{#2}{#3}}{\ZIfL{#1}{\ZCursor{#2}}{#3}}{2}}}
\newcommand{\AUEMIfChildR}[3]{\ensuremath{\AUEMChild{\EIf{#1}{#2}{#3}}{\ZIfR{#1}{#2}{\ZCursor{#3}}}{3}}}
\newcommand{\AUEMIfParentC}[3]{\ensuremath{\AUEMParent{\ZIfC{\ZCursor{#1}}{#2}{#3}}{\EIf{#1}{#2}{#3}}}}
\newcommand{\AUEMIfParentL}[3]{\ensuremath{\AUEMParent{\ZIfL{#1}{\ZCursor{#2}}{#3}}{\EIf{#1}{#2}{#3}}}}
\newcommand{\AUEMIfParentR}[3]{\ensuremath{\AUEMParent{\ZIfR{#1}{#2}{\ZCursor{#3}}}{\EIf{#1}{#2}{#3}}}}
\newcommand{\AUEMPairChildL}[2]{\ensuremath{\AUEMChild{\EPair{#1}{#2}}{\ZPairL{\ZCursor{#1}}{#2}}{1}}}
\newcommand{\AUEMPairChildR}[2]{\ensuremath{\AUEMChild{\EPair{#1}{#2}}{\ZPairR{#1}{\ZCursor{#2}}}{2}}}
\newcommand{\AUEMPairParentL}[2]{\ensuremath{\AUEMParent{\ZPairL{\ZCursor{#1}}{#2}}{\EPair{#1}{#2}}}}
\newcommand{\AUEMPairParentR}[2]{\ensuremath{\AUEMParent{\ZPairR{#1}{\ZCursor{#2}}}{\EPair{#1}{#2}}}}
\newcommand{\AUEMProjLChild}[1]{\ensuremath{\AUEMChild{\EProjL{#1}}{\ZProjL{\ZCursor{#1}}}{1}}}
\newcommand{\AUEMProjLParent}[1]{\ensuremath{\AUEMParent{\ZProjL{\ZCursor{#1}}}{\EProjL{#1}}}}
\newcommand{\AUEMProjRChild}[1]{\ensuremath{\AUEMChild{\EProjR{#1}}{\ZProjR{\ZCursor{#1}}}{1}}}
\newcommand{\AUEMProjRParent}[1]{\ensuremath{\AUEMParent{\ZProjR{\ZCursor{#1}}}{\EProjR{#1}}}}

% deletion
\newcommand{\AUEDel}[1]{\ensuremath{\AUDel{\ZCursor{#1}}{\ZCursor{\EEHole}}}}

% construction
\newcommand{\AUEConVar}[1]{\ensuremath{\AUCon{\ZCursor{\EEHole}}{\ZCursor{#1}}{\SVar{#1}}}}
\newcommand{\AUEConLam}[2]{\ensuremath{\AUCon{\ZCursor{#2}}{\ZLamT{#1}{\ZTCursor{\TUnknown}}{#2}}{\SLam{#1}}}}
\newcommand{\AUEConApL}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZApR{#1}{\ZCursor{\EEHole}}}{\SApL}}}
\newcommand{\AUEConApR}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZApR{\ZCursor{\EEHole}}{#1}}{\SApR}}}
\newcommand{\AUEConLetL}[2]{\ensuremath{\AUCon{\ZCursor{#2}}{\ZLetL{#1}{#2}{\ZCursor{\EEHole}}}{\SLetL{#1}}}}
\newcommand{\AUEConLetR}[2]{\ensuremath{\AUCon{\ZCursor{#2}}{\ZLetR{#1}{\ZCursor{\EEHole}}{#2}}{\SLetR{#1}}}}
\newcommand{\AUEConNum}[1]{\ensuremath{\AUCon{\ZCursor{\EEHole}}{\ZCursor{#1}}{\SLit{#1}}}}
\newcommand{\AUEConPlusL}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZPlusL{#1}{\ZCursor{\EEHole}}}{\SPlusL}}}
\newcommand{\AUEConPlusR}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZPlusR{\ZCursor{\EEHole}}{#1}}{\SPlusR}}}
\newcommand{\AUEConTrue}{\ensuremath{\AUCon{\ZCursor{\EEHole}}{\ZCursor{\ETrue}}{\STrue}}}
\newcommand{\AUEConFalse}{\ensuremath{\AUCon{\ZCursor{\EEHole}}{\ZCursor{\EFalse}}{\SFalse}}}
\newcommand{\AUEConIfC}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZIfC{#1}{\ZCursor{\EEHole}}{\EEHole}}{\SIfC}}}
\newcommand{\AUEConIfL}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZIfC{\ZCursor{\EEHole}}{#1}{\EEHole}}{\SIfC}}}
\newcommand{\AUEConIfR}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZIfC{\ZCursor{\EEHole}}{\EEHole}{#1}}{\SIfC}}}
\newcommand{\AUEConPairL}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZPairL{#1}{\ZCursor{\EEHole}}}{\SPairL}}}
\newcommand{\AUEConPairR}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZPairR{\ZCursor{\EEHole}}{#1}}{\SPairR}}}
\newcommand{\AUEConProjL}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZCursor{\ZProjL{#1}}}{\SProjL}}}
\newcommand{\AUEConProjR}[1]{\ensuremath{\AUCon{\ZCursor{#1}}{\ZCursor{\ZProjR{#1}}}{\SProjR}}}
